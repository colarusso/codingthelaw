<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="http://www.facebook.com/2008/fbml">
<HEAD>
	<title>Permute Spaces</title>
<script>
function stringInsert($str, $insertstr, $pos) {
  $str = $str.substr(0, $pos) + $insertstr + $str.substr($pos);
  return $str;
}

function permute($var = "note", $i = 0) {
  let $length = $var.length;

  while ($i + 1 < $length) {
    $i++;
    let $new = stringInsert($var, ' ', $i);
    myArray.push($new); 
    permute($new, $i + 1);
  }
}

function get_permute(myString) {
 myArray = []
 permutations = permute(word = myString.trim(''));
 permutations_string = '"'+myArray.join('" "')+'"'
 console.log(permutations_string);
 copy_to_clipboard(permutations_string);
}

function copy_to_clipboard(text) {
    
  // Create a temporary textarea element to store the result
  var tempTextArea = document.createElement('textarea');
  tempTextArea.value = text;

  // Append the textarea to the document
  document.body.appendChild(tempTextArea);

  // Select the text within the textarea
  tempTextArea.select();

  // Copy the selected text to the clipboard
  document.execCommand('copy');

  // Remove the temporary textarea
  document.body.removeChild(tempTextArea);

}

//get_permute(prompt("Make permutations of spaces for the following string."));    
</script>
</HEAD>
<body>

<div style="max-width:600px;margin:0 auto">
<h1>Permute Spaces (a bookmaklet)</h1>
<p>Sometimes you want to take a string like "USP", and generate a set of possible space inserts (e.g., "UPS" "U SP" "US P"). Well, you can use this bookmaklet to do just that. Drag the bookmarklet (blue button below) into your bookmark bar, and click it when you want such a list. The output will be copied to your clipboard. Alternativly, can visit this site and click the button.</p>
<a href="javascript:(function()%7Bfunction%20stringInsert(%24str%2C%20%24insertstr%2C%20%24pos)%20%7B%0A%20%20%24str%20%3D%20%24str.substr(0%2C%20%24pos)%20%2B%20%24insertstr%20%2B%20%24str.substr(%24pos)%3B%0A%20%20return%20%24str%3B%0A%7D%0A%0Afunction%20permute(%24var%20%3D%20%22note%22%2C%20%24i%20%3D%200)%20%7B%0A%20%20let%20%24length%20%3D%20%24var.length%3B%0A%0A%20%20while%20(%24i%20%2B%201%20%3C%20%24length)%20%7B%0A%20%20%20%20%24i%2B%2B%3B%0A%20%20%20%20let%20%24new%20%3D%20stringInsert(%24var%2C%20'%20'%2C%20%24i)%3B%0A%20%20%20%20myArray.push(%24new)%3B%20%0A%20%20%20%20permute(%24new%2C%20%24i%20%2B%201)%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20get_permute(myString)%20%7B%0A%20myArray%20%3D%20%5B%5D%0A%20permutations%20%3D%20permute(word%20%3D%20myString.trim(''))%3B%0A%20permutations_string%20%3D%20'%22'%2BmyArray.join('%22%20%22')%2B'%22'%0A%20console.log(permutations_string)%3B%0A%20copy_to_clipboard(permutations_string)%3B%0A%7D%0A%0Afunction%20copy_to_clipboard(text)%20%7B%0A%20%20%20%20%0A%20%20%2F%2F%20Create%20a%20temporary%20textarea%20element%20to%20store%20the%20result%0A%20%20var%20tempTextArea%20%3D%20document.createElement('textarea')%3B%0A%20%20tempTextArea.value%20%3D%20text%3B%0A%0A%20%20%2F%2F%20Append%20the%20textarea%20to%20the%20document%0A%20%20document.body.appendChild(tempTextArea)%3B%0A%0A%20%20%2F%2F%20Select%20the%20text%20within%20the%20textarea%0A%20%20tempTextArea.select()%3B%0A%0A%20%20%2F%2F%20Copy%20the%20selected%20text%20to%20the%20clipboard%0A%20%20document.execCommand('copy')%3B%0A%0A%20%20%2F%2F%20Remove%20the%20temporary%20textarea%0A%20%20document.body.removeChild(tempTextArea)%3B%0A%0A%7D%0A%0Aget_permute(prompt(%22Make%20permutations%20of%20spaces%20for%20the%20following%20string.%22))%3B%7D)()%3B" style="background:rgb(90, 90, 184);border-radius: 5px;padding:5px 10px;color:white;text-decoration: none;">PermuteSpaces</a>
</div>

</body>
</HTML>